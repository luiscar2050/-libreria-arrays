let Pilalibros = [
    {
          titulo: "La Odisea",
          autor: "Homero",
          genero: "Epopeya, Literatura clásica",
          idioma: "Español",
          precio: 20.99,
          formato: "Tapa dura",
          isbn: "978-8497648452",
          descripcion: "es un poema épico que relata el regreso del héroe griego Ulises a su hogar en Ítaca después de la Guerra de Troya. ",
          estado: "Nuevo",
          ubicacion: " Librería La Rueda del Tiempo",
          fecha_publicacion: " Desconocida (escrita aproximadamente en el siglo VIII a.C.)",
          editorial: "Ediciones Cátedra",
          paginas: 480,
          dimensiones: "21 cm x 14 cm x 3 cm",
          peso: "650 gramos"
        },
        {
            titulo: "1984",
        autor: "George Orwell",
        genero: "Distopía, Ficción política",
        idioma: "Español",
        precio: 12.99,
        formato: "Tapa dura",
        isbn: "978-8423325394",
        descripcion: "es una novela distópica que presenta un mundo totalitario en el que el gobierno controla todos los aspectos de la vida de los ciudadanos.",
        estado: "Nuevo",
        ubicacion: "Librería Libertad",
        fecha_publicacion: " 1949",
        editorial: "Ediciones Cátedra",
        paginas: 368,
        dimensiones: "21 cm x 13.5 cm x 2.5 cm",
        peso: "450 gramos"
        },
        {
            titulo: "Cien años de soledad",
        autor: "Gabriel García Márquez",
        genero: "Realismo mágico, Literatura latinoamericana",
        idioma: "Español",
        precio: 18.50,
        formato: "Tapa dura",
        isbn: "978-8420471839",
        descripcion: "narra la historia de la familia Buendía a lo largo de varias generaciones en el pueblo ficticio de Macondo.",
        estado: "Nuevo",
        ubicacion: "Biblioteca Municipal",
        fecha_publicacion: "1967",
        editorial: "Ediciones Cátedra",
        paginas: 432,
        dimensiones: "22 cm x 15 cm x 3 cm",
        peso: " 600 gramos"
        },
        {
            titulo: "El Principito",
        autor: "Antoine de Saint-Exupéry",
        genero: "Literatura infantil, Fábula",
        idioma: "Español",
        precio: 9.99,
        formato: "Tapa blanda",
        isbn: "978-8445071406",
        descripcion: "es una fábula que narra el encuentro entre un aviador y un pequeño príncipe que viaja de planeta en planeta.",
        estado: "Usado (en buenas condiciones)",
        ubicacion: "Hogar",
        fecha_publicacion: "1943",
        editorial: "Ediciones Cátedra",
        paginas: 96,
        dimensiones: "19 cm x 13 cm x 1 cm",
        peso: "150 gramos"
        },
        {
            titulo: "Moby Dick",
        autor: "Herman Melville",
        genero: "Epopeya, Literatura clásica",
        idioma: "Inglés",
        precio: 14.99,
        formato: "Tapa blanda",
        isbn: "978-8437618128",
        descripcion: "es una novela que sigue al capitán Ahab en su obsesiva búsqueda de venganza contra la ballena blanca que le mutiló. ",
        estado: "Nuevo",
        ubicacion: " Librería Marineros",
        fecha_publicacion: "1851",
        editorial: "Penguin Random House",
        paginas: 848,
        dimensiones: "23 cm x 16 cm x 4 cm",
        peso: "900 gramos"
        },
        {
            titulo: "Orgullo y prejuicio",
        autor: "Jane Austen",
        genero: "Novela romántica, Clásico",
        idioma: "Inglés",
        precio: 10.50,
        formato: "Tapa dura",
        isbn: "978-8415130081",
        descripcion: " sigue la historia de Elizabeth Bennet y el señor Darcy mientras navegan por las complejidades del amor y las expectativas sociales en la Inglaterra del siglo XIX.",
        estado: "Nuevo",
        ubicacion: "Librería Bennet",
        fecha_publicacion: "1813",
        editorial: "Penguin Random House",
        paginas: 384,
        dimensiones: " 20 cm x 14 cm x 2 cm",
        peso: "400 gramos"
        },
        {
            titulo: "Don Quijote de la Mancha",
        autor: "Miguel de Cervantes",
        genero: "Novela de caballerías, Parodia",
        idioma: "Español",
        precio: 22.99,
        formato: "Tapa dura",
        isbn: "978-8424117371",
        descripcion: "sigue las aventuras de un hidalgo que se vuelve loco leyendo libros de caballerías y decide convertirse en caballero andante.",
        estado: "Nuevo",
        ubicacion: "Biblioteca Personal",
        fecha_publicacion: "1605 (Primera parte), 1615 (Segunda parte)",
        editorial: "Penguin Random House",
        paginas: 1056,
        dimensiones: "24 cm x 16 cm x 5 cm",
        peso: "1200 gramos"
        },
        {
            titulo: "El diario de Ana Frank",
            autor: "Ana Frank",
            genero: "Memorias",
            idioma: "Español",
            precio: 15.99,
            formato: "Físico",
            isbn: "978-0-451-eda60-9",
            descripcion: "Un libro que narra la historia de Ana Frank, una joven judía que se escondió con su familia en un ático en Amsterdam durante la Segunda Guerra Mundial.",
            estado: "Usado",
            ubicacion: "Estante 1, Biblioteca de la Ciudad",
            fecha_publicacion: "25 de junio de 1947",
            editorial: "Penguin Random House",
            paginas: 218,
            dimensiones: "20.5 x 13.5 x 2.5 cm",
            peso: "350 gramos",
          },
          {
            titulo: "La isla del tesoro",
            autor: "Robert Louis Stevenson",
            genero: "Aventura",
            idioma: "Español",
            precio: 12.99,
            formato: "Físico",
            isbn: "978-0-451-eda60-9",
            descripcion: "Una novela clásica que narra la historia de un joven llamado Jim Hawkins que se embarca en un viaje para encontrar un tesoro en una isla misteriosa.",
            estado: "Usado",
            ubicacion: "Estante 2, Biblioteca de la Ciudad",
            fecha_publicacion: "1883",
            editorial: "Penguin Random House",
            paginas: 240,
            dimensiones: "20.5 x 13.5 x 2.5 cm",
            peso: "350 gramos",
           },
          {
            titulo: "El código de Da Vinci",
            autor: "Dan Brown",
            genero: "Thriller",
            idioma: "Inglés",
            precio: 15.99,
            formato: "Digital",
            isbn: "978-0-385-50420-5",
            descripcion: "Una novela que sigue la historia de un profesor de simbología que se ve envuelto en un misterio relacionado con la Iglesia Católica y el Santo Grial.",
            estado: "Nuevo",
            ubicacion: "Biblioteca digital",
            fecha_publicacion: "18 de marzo de 2003",
            editorial: "Salamandra",
            paginas: 454,
            dimensiones: "N/A",
            peso: "N/A",
          },
          {
            titulo: "El hombre en busca de sentido",
            autor: "Viktor Frankl",
            genero: "Ensayo",
            idioma: "Español",
            precio: 12.99,
            formato: "Físico",
            isbn: "978-0-451-eda60-9",
            descripcion: "Un libro que narra la experiencia del autor en los campos de concentración nazis y su teoría sobre la logoterapia.",
            estado: "Usado",
            ubicacion: "Estante 3, Biblioteca de la Ciudad",
            fecha_publicacion: "1946",
            editorial: "Salamandra",
            paginas: 160,
            dimensiones: "20.5 x 13.5 x 2.5 cm",
            peso: "350 gramos",
          },
          {
            titulo: "El Gran Gatsby",
            autor: "F. Scott Fitzgerald",
            genero: "Novela, Ficción literaria",
            idioma: "Inglés",
            precio: 11.99,
            formato: "Tapa blanda",
            isbn: "978-8437617831",
            descripcion: "Una novela que sigue la historia de un profesor de simbología que se ve envuelto en un misterio relacionado con la Iglesia Católica y el Santo Grial.",
            estado: "Nuevo",
            ubicacion: "Biblioteca digital",
            fecha_publicacion: "18 de marzo de 2003",
            editorial: "Salamandra",
            paginas: 454,
            dimensiones: "N/A",
            peso: "N/A",
          },
          {
            titulo: "El hombre en busca de sentido",
            autor: "Viktor Frankl",
            genero: "Ensayo",
            idioma: "Español",
            precio: 12.99,
            formato: "Físico",
            isbn: "978-0-451-eda60-9",
            descripcion: "Un libro que narra la experiencia del autor en los campos de concentración nazis y su teoría sobre la logoterapia.",
            estado: "Usado",
            ubicacion: "Estante 3, Biblioteca de la Ciudad",
            fecha_publicacion: "1946",
            editorial: "Salamandra",
            paginas: 160,
            dimensiones: "20.5 x 13.5 x 2.5 cm",
            peso: "350 gramos",
          },    
          {     
          titulo: "1984",
          autor: "George Orwell",
          genero: "Distopía, Ficción política",
          idioma: "Español",
          precio: 12.99,
          formato: "Tapa dura",
          isbn: "978-8423325394",
          descripcion: "es una novela distópica que presenta un mundo totalitario en el que el gobierno controla todos los aspectos de la vida de los ciudadanos.",
          estado: "Nuevo",
          ubicacion: "Librería Libertad",
          fecha_publicacion: " 1949",
          editorial: "Salamandra",
          paginas: 368,
          dimensiones: "21 cm x 13.5 cm x 2.5 cm",
          peso: "450 gramos"
          },
          {
            titulo: "El Perfume",
          autor: "Patrick Süskind",
          genero: "Realismo mágico, Literatura latinoamericana",
          idioma: "Español",
          precio: 18.50,
          formato: "Tapa dura",
          isbn: "978-8420471839",
          descripcion: "narra la historia de la familia Buendía a lo largo de varias generaciones en el pueblo ficticio de Macondo.",
          estado: "Nuevo",
          ubicacion: "Biblioteca Municipal",
          fecha_publicacion: "1967",
          editorial: "Cátedra",
          paginas: 432,
          dimensiones: "22 cm x 15 cm x 3 cm",
          peso: " 600 gramos"
          },
          {
              titulo: "Rayuela",
          autor: " Julio Cortázar",
          genero: "Literatura infantil, Fábula",
          idioma: "Español",
          precio: 9.99,
          formato: "Tapa blanda",
          isbn: "978-8445071406",
          descripcion: "es una fábula que narra el encuentro entre un aviador y un pequeño príncipe que viaja de planeta en planeta.",
          estado: "Usado (en buenas condiciones)",
          ubicacion: "Hogar",
          fecha_publicacion: "1943",
          editorial: "Cátedra",
          paginas: 96,
          dimensiones: "19 cm x 13 cm x 1 cm",
          peso: "150 gramos"
          },
          {
              titulo: "Las aventuras de Sherlock Holmes",
          autor: "Arthur Conan Doyle",
          genero: "Epopeya, Literatura clásica",
          idioma: "Inglés",
          precio: 14.99,
          formato: "Tapa blanda",
          isbn: "978-8437618128",
          descripcion: "es una novela que sigue al capitán Ahab en su obsesiva búsqueda de venganza contra la ballena blanca que le mutiló. ",
          estado: "Nuevo",
          ubicacion: " Librería Marineros",
          fecha_publicacion: "1851",
          editorial: "Cátedra",
          paginas: 848,
          dimensiones: "23 cm x 16 cm x 4 cm",
          peso: "900 gramos"
          },
          {
              titulo: "La metamorfosis",
          autor: "Franz Kafka",
          genero: "Novela romántica, Clásico",
          idioma: "Inglés",
          precio: 10.50,
          formato: "Tapa dura",
          isbn: "978-8415130081",
          descripcion: " sigue la historia de Elizabeth Bennet y el señor Darcy mientras navegan por las complejidades del amor y las expectativas sociales en la Inglaterra del siglo XIX.",
          estado: "Nuevo",
          ubicacion: "Librería Bennet",
          fecha_publicacion: "1813",
          editorial: "Cátedra",
          paginas: 384,
          dimensiones: " 20 cm x 14 cm x 2 cm",
          peso: "400 gramos"
          },
          {
              titulo: "Anna Karenina",
          autor: "León Tolstói",
          genero: "Novela de caballerías, Parodia",
          idioma: "Español",
          precio: 22.99,
          formato: "Tapa dura",
          isbn: "978-8424117371",
          descripcion: "sigue las aventuras de un hidalgo que se vuelve loco leyendo libros de caballerías y decide convertirse en caballero andante.",
          estado: "Nuevo",
          ubicacion: "Biblioteca Personal",
          fecha_publicacion: "1605 (Primera parte), 1615 (Segunda parte)",
          editorial: "Cátedra",
          paginas: 1056,
          dimensiones: "24 cm x 16 cm x 5 cm",
          peso: "1200 gramos"
          },
          {
              titulo: "El Alquimista",
              autor: "Paulo Coelho",
              genero: "Memorias",
              idioma: "Español",
              precio: 15.99,
              formato: "Físico",
              isbn: "978-0-451-eda60-9",
              descripcion: "Un libro que narra la historia de Ana Frank, una joven judía que se escondió con su familia en un ático en Amsterdam durante la Segunda Guerra Mundial.",
              estado: "Usado",
              ubicacion: "Estante 1, Biblioteca de la Ciudad",
              fecha_publicacion: "25 de junio de 1947",
              editorial: "Cátedra",
              paginas: 218,
              dimensiones: "20.5 x 13.5 x 2.5 cm",
              peso: "350 gramos",
            },
];      
        
 
 function AgregarLibro() {
 
     let nuevolibro = {
 
         titulo : prompt('titulo'), 
         autor : prompt('autor'),
         genero : prompt('genero'),
         idioma : prompt('idioma'),
         precio : prompt('precio'),
         formato : prompt('formato'),
         isbn : prompt('isbn'),
         descripcion : prompt('descripcion'), 
         estado : prompt('estado'),
         ubicacion : prompt('ubicacion'),
         fecha : prompt('fecha'),
         editorial : prompt('editorial'),
         paginas : prompt('paginas'), 
         dimensiones : prompt('dimensiones'),
         peso : prompt('peso')
     }
 
     Pilalibros.push(nuevolibro)
     console.log('libro agregado');
     console.log(nuevolibro); 
 }
 
 function EliminarLibros() {
 
     libroEliminado = Pilalibros.pop()
     console.log('libro eliminado:');
     console.log(libroEliminado);
 }
 
 function VerLibros() {
     console.log('pila actual de libros');
     console.log(Pilalibros);
 }

 function Menu() {
    menu = 'Menu libreria\n\n'
    menu += '1: agregar nuevo libro\n'
    menu += '2: Eliminar libro\n'
    menu += '3: Mostrar pila de libros\n'
    menu += '4: Mostrar menu listar libros\n'
    menu += '5: Mostrar menu resumenes libros\n'
    let codigo = parseInt(prompt(menu))

    return codigo
}

function EjecutarMenu() {
    let x = Menu()
    switch (x) {
    case 1:
        AgregarLibro()
        EjecutarMenu2()
        break;
    case 2:
        EliminarLibros()
        EjecutarMenu2()
        break;
    case 3:
        VerLibros()
        EjecutarMenu2()
        break;
    case 4:
       EjecutarMenu3()
       break; 
   case 5:
       EjecutarMenu4()
       break;
    default: 
        false;
        break;

    }
}

function Menu2() {
    let menu = 'Desea continuar en el menu\n\n';
    menu += '1: si\n';
    menu += '2: no\n\n';
    menu += 'Elija una opcion: ';
    let codigo = parseInt(prompt(menu));

    return codigo;
}


 function EjecutarMenu2() {
    let continuar
    let x = Menu2()
    switch (x) {
        case 1:
            continuar = true
            break;
        case 2:
            alert('Salio del menu');
            continuar = false;
            break;
        default:
            alert('Opcion no valida. Intente de nuevo.');
            break;
    }
    while (continuar===true) {
        if(continuar===true){
            EjecutarMenu()
            continuar=false
        }else{
           continuar=false
        }
    }
 }

function Menu3() {
   menu = 'Menu listar libros\n\n'
   menu += '1: Mostrar titulo\n'
   menu += '2: Mostrar idioma\n'
   menu += '3: Mostrar descripcion\n'
   menu += '4: Mostrar genero\n'
   menu += '5: Mostrar precio\n'
   menu += '6: Mostrar ubicacion\n'
   menu += '7: Mostrar fecha publicacion\n'
   menu += '8: Mostrar dimensiones\n'
   menu += '9: Mostrar peso\n'
   menu += '10: Mostrar isbn\n'
   menu += '11: Mostrar estado\n'
   menu += '12: Mostrar descuento\n\n'
   menu += 'elija una opcion\n'
   let codigo = parseInt(prompt(menu))

   return codigo
}

function EjecutarMenu3() {
   let x = Menu3()
   switch (x) {
   case 1:
       console.table(TITULO)
       EjecutarMenu2()
       break;
   case 2:
       console.table(IDIOMA)
       EjecutarMenu2()
       break; 
   case 3:
       console.table(DESCRIPCION)
       EjecutarMenu2()
       break;
   case 4:
       console.table(GENERO)
       EjecutarMenu2()
       break;
   case 5:
       console.table(PRECIO)
       EjecutarMenu2()
       break;
   case 6:
       console.table(UBICACION)
       EjecutarMenu2()
       break;
   case 7:
       console.table(FECHA_PUBLICACION)
       EjecutarMenu2()
       break;  
   case 8:
       console.table(DIMENSIONES)
       EjecutarMenu2()
       break;
   case 9:
       console.table(PESO)
       EjecutarMenu2()
       break;
   case 10:
       console.table(ISBN)
       EjecutarMenu2()
       break;
   case 11:
       console.table(ESTADO)
       EjecutarMenu2()
       break;
   case 12:
       Descuento()
       EjecutarMenu2()
       break; 
   default: 
       false;
       break;
   }
}

function Menu4() {
   menu = 'Menu resumenes libros\n\n'
   menu += '1: libros con precio mayores a 50\n'
   menu += '2: lista de paginas de mayor a menor\n'
   menu += '3: libros con precio mayores a 11 \n'
   menu += '4: lista de libros con paginas menores de 100\n'
   menu += '5: libros con precio mayores que 20 de mayor a menor\n\n'
   menu += 'elija una opcion\n'
   let codigo = parseInt(prompt(menu))

   return codigo
}

function EjecutarMenu4() {
   let x = Menu4()
   switch (x) {
   case 1:
       console.table(LibrosPrecio50)
       EjecutarMenu2()
       break;
   case 2:
       console.table(PaginasLibros)
       EjecutarMenu2()
       break; 
   case 3:
       console.table(LibrosPrecio11)
       EjecutarMenu2()
       break;
   case 4:
       console.table(LibrosPaginas100)
       EjecutarMenu2()
       break;
   case 5:
       console.table(LibrosPrecio20)
       EjecutarMenu2()
       break;
   default: 
       false;
       break;
   }
}

const TITULO = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       editorial: libros.editorial, 
       precio: libros.precio
   }
});


const IDIOMA = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       idioma: libros.idioma
   }
});

const DESCRIPCION = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       descripcion: libros.descripcion
   }
});

const GENERO = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       genero: libros.genero
   }
});

const PRECIO = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       precio: libros.precio,
   }
});

const UBICACION = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       ubicacion: libros.ubicacion
   }
});

const FECHA_PUBLICACION = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       fecha_publicacion: libros.fecha_publicacion,
   }
});

const DIMENSIONES = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       dimensiones: libros.dimensiones,
   }
});

const PESO = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       peso: libros.peso,
   }
});

const ISBN = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       isbn: libros.isbn,
   }
});

const ESTADO = Pilalibros.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       estado: libros.estado,
   }
});

function Descuento() {
   const DESCUENTO = Pilalibros.map(function(libro) {
       return {
           ...libro,
           descuento: 20,
           precio_final: libro.precio - (libro.precio * 0.2)
       };
   });

   const DESCUENTO_PRECIO = DESCUENTO.map(function(libro) {
       return {
           titulo: libro.titulo, 
           autor: libro.autor, 
           editorial: libro.editorial, 
           precio: libro.precio,
           descuento: libro.descuento,
           precio_final: libro.precio_final
       };
   });

   return console.table(DESCUENTO_PRECIO);
}

const LibrosPrecio50 = 
Pilalibros.filter(function(libros){
   return libros.precio > 50
})
.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       editorial: libros.editorial, 
       precio: libros.precio
   }
});

const PaginasLibros = 
Pilalibros.sort((a,b) => b.paginas - a.paginas)
.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       editorial: libros.editorial, 
       paginas: libros.paginas
   }
});

const LibrosPrecio11 = 
Pilalibros.filter(function(libros){
   return libros.precio > 11
})
.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       editorial: libros.editorial, 
       precio: libros.precio
   }
});

const LibrosPaginas100 = 
Pilalibros.filter(function(libros){
   return libros.paginas < 100
})
.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       editorial: libros.editorial, 
       paginas: libros.paginas
   }
});

const LibrosPrecio20 = 
Pilalibros.filter(function(libros){
   return libros.precio > 20
})
.map(function(libros){
   return{
       titulo: libros.titulo, 
       autor: libros.autor, 
       precio: libros.precio, 
   }
})
.sort((a,b) => b.precio - a.precio)

EjecutarMenu();